# This file was generated by GoReleaser. DO NOT EDIT.
cask "dts" do
  name "dts"
  desc "Data Tool Suite - Web IDE and MCP server for dbt projects"
  homepage "https://bigtimedata.io/"
  version "2.21.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "dts"
  binary "dts_mcp"

  on_macos do
    url "https://github.com/Big-Time-Data/homebrew-dts/releases/download/v#{version}/dts_darwin_all.tar.gz"
    sha256 "822f86d360470316667e120b5721ced6f724b9664c8b21c81f8c756d2f9361e2"
  end

  postflight do
    system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/dts"]
    system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/dts_mcp"]
  end

  caveats do
    "DTS has been installed with:"
    "  - dts: Web IDE server"
    "  - dts_mcp: MCP server for Claude Code"
    ""
    "To start the web IDE:"
    "  dts"
    ""
    "Claude Plugin Setup:"
    "  claude plugin marketplace add Big-Time-Data/homebrew-dts"
    "  claude plugin install dts@dts-marketplace"
    ""
    "For the legacy CLI (v0.18.x):"
    "  brew install Big-Time-Data/dts/dts-legacy"
  end

  # No zap stanza required
end
