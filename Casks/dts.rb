# This file was generated by GoReleaser. DO NOT EDIT.
cask "dts" do
  name "dts"
  desc "Data Tool Suite - Web IDE and MCP server for dbt projects"
  homepage "https://bigtimedata.io/"
  version "2.17.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "dts"
  binary "dts_mcp"

  on_macos do
    url "https://github.com/Big-Time-Data/homebrew-dts/releases/download/#{version}/dts_darwin_all.tar.gz"
    sha256 "c9e047580f665fd4ac421a9e72ca076145e54366deb3ec3053013b8642043075"
  end

  postflight do
    system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/dts"]
    system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/dts_mcp"]
  end

  caveats do
    "DTS has been installed with:"
    "  - dts: Web IDE server"
    "  - dts_mcp: MCP server for Claude Code"
    ""
    "To start the web IDE:"
    "  dts"
    ""
    "Claude Plugin Setup:"
    "  claude plugin marketplace add Big-Time-Data/homebrew-dts"
    "  claude plugin install dts@dts-marketplace"
    ""
    "For the legacy CLI (v0.18.x):"
    "  brew install Big-Time-Data/dts/dts-legacy"
  end

  # No zap stanza required
end
